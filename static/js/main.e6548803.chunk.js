(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){e.exports={FullPhoto:"FullPhoto_FullPhoto__2Jf5v",FullPhoto__img:"FullPhoto_FullPhoto__img__3DIXJ",FullPhoto__comments:"FullPhoto_FullPhoto__comments__3JMpT"}},11:function(e,t,n){e.exports={Comment:"Comment_Comment__29EU2",Comment__time:"Comment_Comment__time__3CWuv",Comment__text:"Comment_Comment__text__3nI88"}},12:function(e,t,n){e.exports={Form:"NewComment_Form__3IqXv",Submit:"NewComment_Submit__1wr6W"}},13:function(e,t,n){e.exports={Header:"Header_Header__26e58",Header__title:"Header_Header__title__yExev"}},25:function(e,t,n){e.exports={Gallery:"Gallery_Gallery__s-wjg"}},26:function(e,t,n){e.exports={Photo:"Photo_Photo__3rKMZ"}},27:function(e,t,n){e.exports={Loader:"Spinner_Loader__3PNvY",load2:"Spinner_load2__2TN0q"}},28:function(e,t,n){e.exports={Input:"Input_Input__2zjpg"}},29:function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__1NMDs"}},30:function(e,t,n){e.exports={Footer:"Footer_Footer__2t_M9"}},31:function(e,t,n){e.exports=n(67)},36:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),l=n(24),c=n.n(l),r=(n(36),n(2)),m=n(3),u=n(5),i=n(4),s=n(6),d=n(7),_=n.n(d),h=n(25),p=n.n(h),f=n(26),v=n.n(f),E=function(e){var t=e.clicked,n=e.url;return o.a.createElement("div",{role:"button",tabIndex:"0",className:v.a.Photo,onClick:t},o.a.createElement("img",{src:n,alt:"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f"}))},b=n(10),g=n.n(b),C=n(9),P=n.n(C),k=n(11),N=n.n(k),w=function(e){var t=e.date,n=e.text;return o.a.createElement("div",{className:N.a.Comment},o.a.createElement("p",{className:N.a.Comment__time},P()({date:t}).format("DD.MM.YYYY")),o.a.createElement("p",{className:N.a.Comment__text},n))},y=n(27),x=n.n(y),F=function(){return o.a.createElement("div",{className:x.a.Loader},"Loading...")},M=n(14),j=n(12),H=n.n(j),O=n(28),I=n.n(O),S=function(e){var t=e.label,n=e.value,a=e.onchange,l=e.id;return o.a.createElement("div",null,o.a.createElement("label",{htmlFor:l,className:"Hidden"},t),o.a.createElement("input",{id:l,type:"text",className:I.a.Input,value:n,onChange:a,placeholder:t}))},Y=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(o)))).state={comment:{name:"",comment:""}},n.postDataHandler=function(e){e.preventDefault();var t=n.state.comment,a=n.props.photoKey,o={name:t.name,comment:t.comment};_.a.post("https://boiling-refuge-66454.herokuapp.com/images/".concat(a,"/comments"),o).then(function(e){console.log(e),alert("\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d!")}).catch(function(e){console.log(e),alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439")})},n.inputCommentHandler=function(e){n.setState(function(t){return{comment:Object(M.a)({},t.comment,{comment:e.target.value})}})},n.inputNameHandler=function(e){n.setState(function(t){return{comment:Object(M.a)({},t.comment,{name:e.target.value})}})},n}return Object(s.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state.comment;return o.a.createElement("form",{className:H.a.Form},o.a.createElement(S,{label:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f",id:"username",value:t.name,onchange:function(t){return e.inputNameHandler(t)}}),o.a.createElement(S,{label:"\u0412\u0430\u0448 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",id:"comment",value:t.comment,onchange:function(t){return e.inputCommentHandler(t)}}),o.a.createElement("button",{type:"submit",className:H.a.Submit,onClick:function(t){return e.postDataHandler(t)}},"\u041e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"))}}]),t}(a.Component),D=function(e){function t(){return Object(r.a)(this,t),Object(u.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.loadedPhoto,a="";if(t&&(a=o.a.createElement(F,null)),n){var l=Object.values(n.comments).map(function(e){return o.a.createElement(w,{key:e.id,date:e.date,text:e.text})});a=o.a.createElement("div",{className:g.a.FullPhoto},o.a.createElement("div",{className:g.a.FullPhoto__img},o.a.createElement("img",{src:n.url,alt:""})),o.a.createElement("ul",{className:g.a.FullPhoto__comments},l),o.a.createElement(Y,{photoKey:n.id}))}return a}}]),t}(a.Component);D.defaultProps={loadedPhoto:{}};var B=D,J=n(8),G=n.n(J),L=n(29),W=n.n(L),K=function(e){var t=e.show,n=e.clicked;return t?o.a.createElement("div",{role:"button",tabIndex:"0","aria-label":"Close popup",className:W.a.Backdrop,onClick:n}):null},T=function(e){var t=e.show,n=e.clicked,a=e.children;return o.a.createElement(o.a.Fragment,null,o.a.createElement(K,{show:t,clicked:n}),o.a.createElement("div",{className:t?"".concat(G.a.Modal):"".concat(G.a.Modal," ").concat(G.a.Closed)},o.a.createElement("button",{type:"button",className:G.a.Modal__close,onClick:n},o.a.createElement("span",{className:"Hidden"},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c")),a))},q=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(o)))).state={photos:[],selectedPhotoId:"",loadedPhoto:null,showModal:!1},n.photoSelectedHandler=function(e){n.setState({selectedPhotoId:e,showModal:!0,loadedPhoto:null}),_.a.get("https://boiling-refuge-66454.herokuapp.com/images/".concat(e)).then(function(e){n.setState({loadedPhoto:e.data})}).catch(function(e){console.log(e),alert("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a")})},n.modalCloseHandler=function(){n.setState({showModal:!1,selectedPhotoId:null})},n}return Object(s.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;_.a.get("https://boiling-refuge-66454.herokuapp.com/images").then(function(t){var n=t.data;e.setState({photos:n})}).catch(function(e){console.log(e),alert("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a")})}},{key:"render",value:function(){var e=this,t=this.state,n=t.photos,a=t.showModal,l=t.loadedPhoto,c=t.selectedPhotoId,r=o.a.createElement(F,null);return n&&(r=n.map(function(t){return o.a.createElement(E,{key:t.id,url:t.url,clicked:function(){return e.photoSelectedHandler(t.id)}})})),o.a.createElement("div",{className:p.a.Gallery},r,o.a.createElement(T,{show:a,clicked:this.modalCloseHandler},o.a.createElement(B,{loadedPhoto:l,id:c})))}}]),t}(a.Component),z=n(13),A=n.n(z),X=function(){return o.a.createElement("header",{className:A.a.Header},o.a.createElement("h1",{className:A.a.Header__title},"Test app"))},Z=n(30),Q=n.n(Z),U=function(){return o.a.createElement("footer",{className:Q.a.Footer},o.a.createElement("p",null,"\xa9 2018-",P()().format("YYYY")))},$=function(e){var t=e.children;return o.a.createElement(o.a.Fragment,null,o.a.createElement(X,null),o.a.createElement("main",null,t),o.a.createElement(U,null))},R=function(){return o.a.createElement($,null,o.a.createElement(q,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()}).catch(function(e){console.error(e.message)})},8:function(e,t,n){e.exports={Modal:"Modal_Modal__3cf6z",Modal__close:"Modal_Modal__close__1n2ve",Closed:"Modal_Closed__21QYZ"}}},[[31,2,1]]]);
//# sourceMappingURL=main.e6548803.chunk.js.map