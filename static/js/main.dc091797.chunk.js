(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){e.exports={Comment:"Comment_Comment__29EU2",Comment__time:"Comment_Comment__time__3CWuv",Comment__text:"Comment_Comment__text__3nI88"}},12:function(e,t,a){e.exports={Form:"NewComment_Form__3IqXv",Submit:"NewComment_Submit__1wr6W"}},13:function(e,t,a){e.exports={Header:"Header_Header__26e58",Header__title:"Header_Header__title__yExev"}},25:function(e,t,a){e.exports={Gallery:"Gallery_Gallery__s-wjg"}},26:function(e,t,a){e.exports={Photo:"Photo_Photo__3rKMZ"}},27:function(e,t,a){e.exports={Loader:"Spinner_Loader__3PNvY",load2:"Spinner_load2__2TN0q"}},28:function(e,t,a){e.exports={Input:"Input_Input__2zjpg"}},29:function(e,t,a){e.exports={Backdrop:"Backdrop_Backdrop__1NMDs"}},30:function(e,t,a){e.exports={Footer:"Footer_Footer__2t_M9"}},31:function(e,t,a){e.exports=a(67)},36:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(24),r=a.n(l),c=(a(36),a(2)),m=a(3),u=a(5),i=a(4),s=a(6),d=a(7),_=a.n(d),h=a(25),p=a.n(h),f=a(26),v=a.n(f),E=function(e){var t=e.clicked,a=e.url;return o.a.createElement("div",{role:"button",tabIndex:"0",className:v.a.Photo,onClick:t},o.a.createElement("img",{src:a,alt:"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f"}))},b=a(8),g=a.n(b),P=a(10),C=a.n(P),w=a(11),N=a.n(w),k=function(e){var t=e.date,a=e.text;return o.a.createElement("div",{className:N.a.Comment},o.a.createElement("p",{className:N.a.Comment__time},C()(t).format("DD.MM.YYYY")),o.a.createElement("p",{className:N.a.Comment__text},a))},F=a(27),y=a.n(F),x=function(){return o.a.createElement("div",{className:y.a.Loader},"Loading...")},M=a(14),j=a(12),H=a.n(j),O=a(28),S=a.n(O),I=function(e){var t=e.label,a=e.value,n=e.onchange,l=e.id;return o.a.createElement("div",null,o.a.createElement("label",{htmlFor:l,className:"Hidden"},t),o.a.createElement("input",{id:l,type:"text",className:S.a.Input,value:a,onChange:n,placeholder:t}))},Y=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(o)))).state={comment:{name:"",comment:""}},a.postDataHandler=function(e){e.preventDefault();var t=a.state.comment,n=a.props.photoKey,o={name:t.name,comment:t.comment};_.a.post("https://boiling-refuge-66454.herokuapp.com/images/".concat(n,"/comments"),o).then(function(e){console.log(e),alert("\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d!")}).catch(function(e){console.log(e),alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439")})},a.inputCommentHandler=function(e){a.setState(function(t){return{comment:Object(M.a)({},t.comment,{comment:e.target.value})}})},a.inputNameHandler=function(e){a.setState(function(t){return{comment:Object(M.a)({},t.comment,{name:e.target.value})}})},a}return Object(s.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state.comment;return o.a.createElement("form",{className:H.a.Form},o.a.createElement(I,{label:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f",id:"username",value:t.name,onchange:function(t){return e.inputNameHandler(t)}}),o.a.createElement(I,{label:"\u0412\u0430\u0448 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",id:"comment",value:t.comment,onchange:function(t){return e.inputCommentHandler(t)}}),o.a.createElement("button",{type:"submit",className:H.a.Submit,onClick:function(t){return e.postDataHandler(t)}},"\u041e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"))}}]),t}(n.Component),D=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.loadedPhoto,n="";if(t&&(n=o.a.createElement(x,null)),a){var l=Object.values(a.comments).map(function(e){return o.a.createElement(k,{key:e.id,date:e.date,text:e.text})});n=o.a.createElement("div",{className:g.a.FullPhoto},o.a.createElement("div",{className:g.a.FullPhoto__img},o.a.createElement("img",{src:a.url,alt:""})),o.a.createElement("div",{className:g.a.FullPhoto__wrap},o.a.createElement("ul",{className:g.a.FullPhoto__comments},l),o.a.createElement(Y,{photoKey:a.id})))}return n}}]),t}(n.Component);D.defaultProps={loadedPhoto:{}};var B=D,G=a(9),J=a.n(G),L=a(29),W=a.n(L),K=function(e){var t=e.show,a=e.clicked;return t?o.a.createElement("div",{role:"button",tabIndex:"0","aria-label":"Close popup",className:W.a.Backdrop,onClick:a}):null},Z=function(e){var t=e.show,a=e.clicked,n=e.children;return o.a.createElement(o.a.Fragment,null,o.a.createElement(K,{show:t,clicked:a}),o.a.createElement("div",{className:t?"".concat(J.a.Modal):"".concat(J.a.Modal," ").concat(J.a.Closed)},o.a.createElement("button",{type:"button",className:J.a.Modal__close,onClick:a},o.a.createElement("span",{className:"Hidden"},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c")),n))},q=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(o)))).state={photos:[],selectedPhotoId:"",loadedPhoto:null,showModal:!1},a.photoSelectedHandler=function(e){a.setState({selectedPhotoId:e,showModal:!0,loadedPhoto:null}),_.a.get("https://boiling-refuge-66454.herokuapp.com/images/".concat(e)).then(function(e){a.setState({loadedPhoto:e.data}),a.setState({loadedPhoto:e.data})}).catch(function(e){console.log(e),alert("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a")})},a.modalCloseHandler=function(){a.setState({showModal:!1,selectedPhotoId:null})},a}return Object(s.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;_.a.get("https://boiling-refuge-66454.herokuapp.com/images").then(function(t){var a=t.data;e.setState({photos:a})}).catch(function(e){console.log(e),alert("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a")})}},{key:"render",value:function(){var e=this,t=this.state,a=t.photos,n=t.showModal,l=t.loadedPhoto,r=t.selectedPhotoId,c=o.a.createElement(x,null);return a&&(c=a.map(function(t){return o.a.createElement(E,{key:t.id,url:t.url,clicked:function(){return e.photoSelectedHandler(t.id)}})})),o.a.createElement("div",{className:p.a.Gallery},c,o.a.createElement(Z,{show:n,clicked:this.modalCloseHandler},o.a.createElement(B,{loadedPhoto:l,id:r})))}}]),t}(n.Component),z=a(13),A=a.n(z),T=function(){return o.a.createElement("header",{className:A.a.Header},o.a.createElement("h1",{className:A.a.Header__title},"Gallery"))},U=a(30),X=a.n(U),Q=function(){return o.a.createElement("footer",{className:X.a.Footer},o.a.createElement("p",null,"\xa9 2018-",C()().format("YYYY")))},$=function(e){var t=e.children;return o.a.createElement(o.a.Fragment,null,o.a.createElement(T,null),o.a.createElement("main",null,t),o.a.createElement(Q,null))},R=function(){return o.a.createElement($,null,o.a.createElement(q,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()}).catch(function(e){console.error(e.message)})},8:function(e,t,a){e.exports={FullPhoto:"FullPhoto_FullPhoto__2Jf5v",FullPhoto__img:"FullPhoto_FullPhoto__img__3DIXJ",FullPhoto__wrap:"FullPhoto_FullPhoto__wrap__3NdZU",FullPhoto__comments:"FullPhoto_FullPhoto__comments__3JMpT"}},9:function(e,t,a){e.exports={Modal:"Modal_Modal__3cf6z",Modal__close:"Modal_Modal__close__1n2ve",Closed:"Modal_Closed__21QYZ"}}},[[31,2,1]]]);
//# sourceMappingURL=main.dc091797.chunk.js.map