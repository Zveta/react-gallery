(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){e.exports={FullPhoto:"FullPhoto_FullPhoto__2Jf5v",FullPhoto__img:"FullPhoto_FullPhoto__img__3DIXJ",FullPhoto__comments:"FullPhoto_FullPhoto__comments__3JMpT"}},11:function(e,t,n){e.exports={Comment:"Comment_Comment__29EU2",Comment__time:"Comment_Comment__time__3CWuv",Comment__text:"Comment_Comment__text__3nI88"}},12:function(e,t,n){e.exports={Form:"NewComment_Form__3IqXv",Submit:"NewComment_Submit__1wr6W"}},13:function(e,t,n){e.exports={Header:"Header_Header__26e58",Header__title:"Header_Header__title__yExev"}},25:function(e,t,n){e.exports={Gallery:"Gallery_Gallery__s-wjg"}},26:function(e,t,n){e.exports={Photo:"Photo_Photo__3rKMZ"}},27:function(e,t,n){e.exports={Input:"Input_Input__2zjpg"}},28:function(e,t,n){e.exports={Loader:"Spinner_Loader__3PNvY",load2:"Spinner_load2__2TN0q"}},29:function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__1NMDs"}},30:function(e,t,n){e.exports={Footer:"Footer_Footer__2t_M9"}},31:function(e,t,n){e.exports=n(67)},36:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),l=n(24),c=n.n(l),r=(n(36),n(2)),m=n(3),s=n(5),i=n(4),u=n(6),d=n(25),h=n.n(d),_=n(26),p=n.n(_),f=function(e){return o.a.createElement("div",{className:p.a.Photo,onClick:e.clicked},o.a.createElement("img",{src:e.url,alt:"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f"}))},E=n(10),v=n.n(E),b=n(9),g=n.n(b),C=n(11),P=n.n(C),k=function(e){return o.a.createElement("div",{className:P.a.Comment},o.a.createElement("p",{className:P.a.Comment__time},g()(e.date).format("DD.MM.YYYY")),o.a.createElement("p",{className:P.a.Comment__text},e.text))},N=n(14),w=n(7),j=n.n(w),y=n(12),O=n.n(y),F=n(27),M=n.n(F),x=function(e){return o.a.createElement("div",null,o.a.createElement("label",{className:"Hidden"},e.label),o.a.createElement("input",{type:"text",className:M.a.Input,value:e.value,onChange:e.onchange,placeholder:e.label}))},H=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(o)))).state={comment:{name:"",comment:""}},n.postDataHandler=function(e){e.preventDefault();var t={name:n.state.comment.name,comment:n.state.comment.comment};j.a.post("https://boiling-refuge-66454.herokuapp.com/images/"+n.props.photoKey+"/comments",t).then(function(e){console.log(e)}).catch(function(e){console.log(e)})},n.inputCommentHandler=function(e){n.setState({comment:Object(N.a)({},n.state.comment,{comment:e.target.value})})},n.inputNameHandler=function(e){n.setState({comment:Object(N.a)({},n.state.comment,{name:e.target.value})})},n}return Object(u.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("form",{className:O.a.Form},o.a.createElement(x,{label:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f",value:this.state.comment.name,onchange:function(t){return e.inputNameHandler(t)}}),o.a.createElement(x,{label:"\u0412\u0430\u0448 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",value:this.state.comment.comment,onchange:function(t){return e.inputCommentHandler(t)}}),o.a.createElement("button",{type:"submit",className:O.a.Submit,onClick:function(t){return e.postDataHandler(t)}},"\u041e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"))}}]),t}(a.Component),S=n(28),I=n.n(S),Y=function(){return o.a.createElement("div",{className:I.a.Loader},"Loading...")},D=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e="";if(this.props.id&&(e=o.a.createElement(Y,null)),this.props.loadedPhoto){var t=Object.values(this.props.loadedPhoto.comments).map(function(e){return o.a.createElement(k,{key:e.id,date:e.date,text:e.text})});e=o.a.createElement("div",{className:v.a.FullPhoto},o.a.createElement("div",{className:v.a.FullPhoto__img},o.a.createElement("img",{src:this.props.loadedPhoto.url,alt:""})),o.a.createElement("ul",{className:v.a.FullPhoto__comments},t),o.a.createElement(H,{photoKey:this.props.loadedPhoto.id}))}return e}}]),t}(a.Component),B=n(8),J=n.n(B),G=n(29),L=n.n(G),W=function(e){return e.show?o.a.createElement("div",{className:L.a.Backdrop,onClick:e.clicked}):null},K=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(W,{show:e.show,clicked:e.clicked}),o.a.createElement("div",{className:e.show?"".concat(J.a.Modal):"".concat(J.a.Modal," ").concat(J.a.Closed)},o.a.createElement("button",{className:J.a.Modal__close,onClick:e.clicked},o.a.createElement("span",{className:"Hidden"},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c")),e.children))},T=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(o)))).state={photos:[],selectedPhotoId:null,error:!1,loadedPhoto:null},n.photoSelectedHandler=function(e){n.setState({selectedPhotoId:e,showModal:!0,loadedPhoto:null}),j.a.get("https://boiling-refuge-66454.herokuapp.com/images/"+e).then(function(e){n.setState({loadedPhoto:e.data})})},n.modalCloseHandler=function(){n.setState({showModal:!1,selectedPhotoId:null})},n}return Object(u.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;j.a.get("https://boiling-refuge-66454.herokuapp.com/images").then(function(t){var n=t.data.map(function(e){return e});e.setState({photos:n})}).catch(function(t){e.setState({error:!0}),console.log(t)})}},{key:"render",value:function(){var e=this,t=o.a.createElement(Y,null);return this.state.photos&&(t=this.state.photos.map(function(t){return o.a.createElement(f,{key:t.id,url:t.url,clicked:function(){return e.photoSelectedHandler(t.id)}})})),o.a.createElement("div",{className:h.a.Gallery},t,o.a.createElement(K,{show:this.state.showModal,clicked:this.modalCloseHandler},o.a.createElement(D,{loadedPhoto:this.state.loadedPhoto,id:this.state.selectedPhotoId})))}}]),t}(a.Component),q=n(13),z=n.n(q),A=function(){return o.a.createElement("header",{className:z.a.Header},o.a.createElement("h1",{className:z.a.Header__title},"Test app"))},X=n(30),Z=n.n(X),Q=function(){return o.a.createElement("footer",{className:Z.a.Footer},o.a.createElement("p",null,"\xa9 2018-",g()().format("YYYY")))},U=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(A,null),o.a.createElement("main",null,e.children),o.a.createElement(Q,null))},$=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return o.a.createElement(U,null,o.a.createElement(T,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()}).catch(function(e){console.error(e.message)})},8:function(e,t,n){e.exports={Modal:"Modal_Modal__3cf6z",Modal__close:"Modal_Modal__close__1n2ve",Closed:"Modal_Closed__21QYZ"}}},[[31,2,1]]]);
//# sourceMappingURL=main.1e670679.chunk.js.map